digraph AppCFG {
  rankdir=TB;
  node [shape=box, fontname="Arial", fontsize=10];
  edge [fontname="Arial", fontsize=8];

  subgraph cluster__init_ {
    label="<init>";
    style=filled;
    fillcolor=lightgray;
    fontsize=12;
    fontname="Arial Bold";

    "<init>_0" [label="Block 0\n---\nr0 := @this: com.example.schoolmanage...\n$r1 := @parameter0: com.example.schoo...\nr0.\<com.example.schoolmanagement.Main...\n... (2 more)\n", style=filled, fillcolor=white];
    "<init>_0" [label="Block 0\n---\nr0 := @this: com.example.schoolmanage...\n$r1 := @parameter0: com.example.schoo...\nr0.\<com.example.schoolmanagement.Cour...\n... (2 more)\n", style=filled, fillcolor=white];
    "<init>_0" [label="Block 0\n---\nr0 := @this: com.example.schoolmanage...\n$r1 := @parameter0: com.example.schoo...\nr0.\<com.example.schoolmanagement.Main...\n... (2 more)\n", style=filled, fillcolor=white];
  }

  subgraph cluster_onClick {
    label="onClick";
    style=filled;
    fillcolor=lightgray;
    fontsize=12;
    fontname="Arial Bold";

    "onClick_0" [label="Block 0\n---\nr0 := @this: com.example.schoolmanage...\n$r1 := @parameter0: android.view.View\n$i0 = virtualinvoke $r1.\<android.view...\n... (2 more)\n", style=filled, fillcolor=lightblue];
    "onClick_0" [label="Block 0\n---\nr0 := @this: com.example.schoolmanage...\n$r1 := @parameter0: android.view.View\n$i1 = virtualinvoke $r1.\<android.view...\n... (2 more)\n", style=filled, fillcolor=lightblue];
    "onClick_1" [label="Block 1\n---\nspecialinvoke r0.\<com.example.schoolm...\nreturn\n", style=filled, fillcolor=lightblue];
    "onClick_1" [label="Block 1\n---\nspecialinvoke r0.\<com.example.schoolm...\n", style=filled, fillcolor=lightblue];
    "onClick_2" [label="Block 2\n---\n$i1 = \<com.example.schoolmanagement.R...\nif $i0 != $i1 goto $i1 = \<com.example...\n", style=filled, fillcolor=lightblue];
    "onClick_2" [label="Block 2\n---\nreturn\n", style=filled, fillcolor=lightblue];
    "onClick_3" [label="Block 3\n---\nspecialinvoke r0.\<com.example.schoolm...\nreturn\n", style=filled, fillcolor=lightblue];
    "onClick_4" [label="Block 4\n---\n$i1 = \<com.example.schoolmanagement.R...\nif $i0 != $i1 goto return\n", style=filled, fillcolor=lightblue];
    "onClick_5" [label="Block 5\n---\n$r2 = new android.content.Intent\nspecialinvoke $r2.\<android.content.In...\nvirtualinvoke r0.\<com.example.schoolm...\n", style=filled, fillcolor=lightblue];
    "onClick_6" [label="Block 6\n---\nreturn\n", style=filled, fillcolor=lightblue];
  }

  subgraph cluster_processStudents {
    label="processStudents";
    style=filled;
    fillcolor=lightgray;
    fontsize=12;
    fontname="Arial Bold";

    "processStudents_0" [label="Block 0\n---\nr0 := @this: com.example.schoolmanage...\n$r1 = r0.\<com.example.schoolmanagemen...\nvirtualinvoke $r1.\<android.widget.Tex...\n... (5 more)\n", style=filled, fillcolor=white];
  }

  subgraph cluster_onDestroy {
    label="onDestroy";
    style=filled;
    fillcolor=lightgray;
    fontsize=12;
    fontname="Arial Bold";

    "onDestroy_0" [label="Block 0\n---\nr0 := @this: com.example.schoolmanage...\nspecialinvoke r0.\<androidx.appcompat....\nr1 = r0.\<com.example.schoolmanagement...\n... (1 more)\n", style=filled, fillcolor=white];
    "onDestroy_0" [label="Block 0\n---\nr0 := @this: com.example.schoolmanage...\nspecialinvoke r0.\<androidx.appcompat....\nr1 = r0.\<com.example.schoolmanagement...\n... (1 more)\n", style=filled, fillcolor=white];
    "onDestroy_1" [label="Block 1\n---\nr1 = r0.\<com.example.schoolmanagement...\ninterfaceinvoke r1.\<java.util.concurr...\nr1 = r0.\<com.example.schoolmanagement...\n... (1 more)\n", style=filled, fillcolor=white];
    "onDestroy_1" [label="Block 1\n---\nr1 = r0.\<com.example.schoolmanagement...\ninterfaceinvoke r1.\<java.util.concurr...\nr1 = r0.\<com.example.schoolmanagement...\n... (1 more)\n", style=filled, fillcolor=white];
    "onDestroy_2" [label="Block 2\n---\n$z0 = interfaceinvoke r1.\<java.util.c...\n", style=filled, fillcolor=white];
    "onDestroy_2" [label="Block 2\n---\n$z0 = interfaceinvoke r1.\<java.util.c...\n", style=filled, fillcolor=white];
    "onDestroy_3" [label="Block 3\n---\nif $z0 != 0 goto return\n", style=filled, fillcolor=white];
    "onDestroy_3" [label="Block 3\n---\nif $z0 != 0 goto return\n", style=filled, fillcolor=white];
    "onDestroy_4" [label="Block 4\n---\nr1 = r0.\<com.example.schoolmanagement...\n", style=filled, fillcolor=white];
    "onDestroy_4" [label="Block 4\n---\nr1 = r0.\<com.example.schoolmanagement...\n", style=filled, fillcolor=white];
    "onDestroy_5" [label="Block 5\n---\ninterfaceinvoke r1.\<java.util.concurr...\n", style=filled, fillcolor=white];
    "onDestroy_5" [label="Block 5\n---\ninterfaceinvoke r1.\<java.util.concurr...\n", style=filled, fillcolor=white];
    "onDestroy_6" [label="Block 6\n---\nreturn\n", style=filled, fillcolor=white];
    "onDestroy_6" [label="Block 6\n---\nreturn\n", style=filled, fillcolor=white];
    "onDestroy_7" [label="Block 7\n---\nr3 := @caughtexception\nr1 = r0.\<com.example.schoolmanagement...\ninterfaceinvoke r1.\<java.util.concurr...\n", style=filled, fillcolor=white];
    "onDestroy_7" [label="Block 7\n---\nr3 := @caughtexception\nr1 = r0.\<com.example.schoolmanagement...\ninterfaceinvoke r1.\<java.util.concurr...\n", style=filled, fillcolor=white];
    "onDestroy_8" [label="Block 8\n---\nreturn\n", style=filled, fillcolor=white];
    "onDestroy_8" [label="Block 8\n---\nreturn\n", style=filled, fillcolor=white];
  }

  subgraph cluster_processCourse {
    label="processCourse";
    style=filled;
    fillcolor=lightgray;
    fontsize=12;
    fontname="Arial Bold";

    "processCourse_0" [label="Block 0\n---\nr0 := @this: com.example.schoolmanage...\n$r1 = r0.\<com.example.schoolmanagemen...\nvirtualinvoke $r1.\<android.widget.Tex...\n... (7 more)\n", style=filled, fillcolor=white];
  }

  subgraph cluster_onCreate {
    label="onCreate";
    style=filled;
    fillcolor=lightgray;
    fontsize=12;
    fontname="Arial Bold";

    "onCreate_0" [label="Block 0\n---\nr0 := @this: com.example.schoolmanage...\n$r1 := @parameter0: android.os.Bundle\nspecialinvoke r0.\<androidx.appcompat....\n... (20 more)\n", style=filled, fillcolor=white];
    "onCreate_0" [label="Block 0\n---\nr0 := @this: com.example.schoolmanage...\n$r1 := @parameter0: android.os.Bundle\nspecialinvoke r0.\<androidx.appcompat....\n... (22 more)\n", style=filled, fillcolor=white];
  }

  subgraph cluster_processStaff {
    label="processStaff";
    style=filled;
    fillcolor=lightgray;
    fontsize=12;
    fontname="Arial Bold";

    "processStaff_0" [label="Block 0\n---\nr0 := @this: com.example.schoolmanage...\n$r1 = r0.\<com.example.schoolmanagemen...\nvirtualinvoke $r1.\<android.widget.Tex...\n... (5 more)\n", style=filled, fillcolor=white];
  }

  // Edges
  "<init>_0" -> "processStudents_0" [color=green, style=dashed, label="RETURN"];
  "onClick_1" -> "processStudents_0" [color=red, style=bold, penwidth=2, label="CALL"];
  "onClick_0" -> "onClick_1" [color=blue, label="succ"];
  "onClick_0" -> "onClick_2" [color=blue, label="succ"];
  "onClick_3" -> "processStaff_0" [color=red, style=bold, penwidth=2, label="CALL"];
  "onClick_2" -> "onClick_3" [color=blue, label="succ"];
  "onClick_2" -> "onClick_4" [color=blue, label="succ"];
  "onClick_5" -> "onClick_6" [color=blue, label="succ"];
  "onClick_4" -> "onClick_5" [color=blue, label="succ"];
  "onClick_4" -> "onClick_6" [color=blue, label="succ"];
  "processStudents_0" -> "<init>_0" [color=red, style=bold, penwidth=2, label="CALL"];
  "processStudents_0" -> "onClick_1" [color=green, style=dashed, label="RETURN"];
  "onDestroy_7" -> "onDestroy_8" [color=blue, label="succ"];
  "onDestroy_5" -> "onDestroy_7" [color=blue, label="succ"];
  "onDestroy_5" -> "onDestroy_6" [color=blue, label="succ"];
  "onDestroy_4" -> "onDestroy_7" [color=blue, label="succ"];
  "onDestroy_4" -> "onDestroy_5" [color=blue, label="succ"];
  "onDestroy_3" -> "onDestroy_6" [color=blue, label="succ"];
  "onDestroy_3" -> "onDestroy_4" [color=blue, label="succ"];
  "onDestroy_2" -> "onDestroy_7" [color=blue, label="succ"];
  "onDestroy_2" -> "onDestroy_3" [color=blue, label="succ"];
  "onDestroy_1" -> "onDestroy_7" [color=blue, label="succ"];
  "onDestroy_1" -> "onDestroy_2" [color=blue, label="succ"];
  "onDestroy_0" -> "onDestroy_8" [color=blue, label="succ"];
  "onDestroy_0" -> "onDestroy_1" [color=blue, label="succ"];
  "<init>_0" -> "processCourse_0" [color=green, style=dashed, label="RETURN"];
  "processCourse_0" -> "<init>_0" [color=red, style=bold, penwidth=2, label="CALL"];
  "processCourse_0" -> "onClick_2" [color=green, style=dashed, label="RETURN"];
  "onClick_1" -> "onClick_2" [color=blue, label="succ"];
  "onClick_1" -> "processCourse_0" [color=red, style=bold, penwidth=2, label="CALL"];
  "onClick_0" -> "onClick_1" [color=blue, label="succ"];
  "onClick_0" -> "onClick_2" [color=blue, label="succ"];
  "processStaff_0" -> "<init>_0" [color=red, style=bold, penwidth=2, label="CALL"];
  "processStaff_0" -> "onClick_3" [color=green, style=dashed, label="RETURN"];
  "onDestroy_0" -> "onDestroy_1" [color=blue, label="succ"];
  "onDestroy_0" -> "onDestroy_8" [color=blue, label="succ"];
  "onDestroy_2" -> "onDestroy_3" [color=blue, label="succ"];
  "onDestroy_2" -> "onDestroy_7" [color=blue, label="succ"];
  "onDestroy_1" -> "onDestroy_2" [color=blue, label="succ"];
  "onDestroy_1" -> "onDestroy_7" [color=blue, label="succ"];
  "onDestroy_4" -> "onDestroy_5" [color=blue, label="succ"];
  "onDestroy_4" -> "onDestroy_7" [color=blue, label="succ"];
  "onDestroy_3" -> "onDestroy_4" [color=blue, label="succ"];
  "onDestroy_3" -> "onDestroy_6" [color=blue, label="succ"];
  "<init>_0" -> "processStaff_0" [color=green, style=dashed, label="RETURN"];
  "onDestroy_5" -> "onDestroy_6" [color=blue, label="succ"];
  "onDestroy_5" -> "onDestroy_7" [color=blue, label="succ"];
  "onDestroy_7" -> "onDestroy_8" [color=blue, label="succ"];

  // Legend
  subgraph cluster_legend {
    label="Legend";
    style=filled;
    fillcolor=white;
    rankdir=LR;
    
    legend_succ [label="Successor", shape=plaintext];
    legend_call [label="Method Call", shape=plaintext];
    legend_return [label="Return", shape=plaintext];
    
    legend_succ -> legend_call [color=blue, label="succ"];
    legend_call -> legend_return [color=red, style=bold, label="CALL"];
    legend_return -> legend_succ [color=green, style=dashed, label="RETURN"];
  }
}
